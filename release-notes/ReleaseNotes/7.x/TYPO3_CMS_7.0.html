<h1 id="typo3-cms-7.0-technical-release-notes">TYPO3 CMS 7.0 Technical Release Notes</h1>
<p>This document contains information about TYPO3 CMS version 7.0 which was released on December, 2nd 2014.</p>
<h2 id="system-requirements">System Requirements</h2>
<p>The system requirements:</p>
<ul>
<li>PHP &gt;5.5.0 up to 5.6</li>
<li>MySQL 5.1 up to 5.6 or compatible (no “strict mode”)</li>
</ul>
<p>Note that MySQL “strict mode” is currently not supported by TYPO3. If your MySQL server is configured with either STRICT_TRANS_TABLES or STRICT_ALL_TABLES (especially true with MySQL 5.6, as this is a new default), you need to configure setDBinit in the Install Tool.</p>
<h2 id="installing">Installing</h2>
<h3 id="upgrading">Upgrading</h3>
<p>Follow these steps to ensure a painless upgrade:</p>
<ul>
<li>Uninstall all extensions (they might rely on the compatibility layer which has been removed in 7.0)</li>
<li>Go to the install tool</li>
<li>Upgrade as usual</li>
<li>Enable Extensions one by one and check, if the install tool finds errors</li>
<li>If so, consider installing “EXT:compatibility6”. Be aware that EXT:compatibility6 will not work forever.</li>
</ul>
<h3 id="new-installations">New installations</h3>
<ul>
<li>Install</li>
<li>Enjoy</li>
</ul>
<h3 id="compatibility">Compatibility</h3>
<h1 id="changes-and-improvements">Changes and improvements</h1>
<h2 id="breaking-changes">Breaking Changes</h2>
<h4 id="breaking-19737---prefer-root-templates-for-pages">Breaking: #19737 - Prefer root templates for pages</h4>
<h5 id="description">Description</h5>
<p>The Core now gives templates having set the root-flag precedence over normal extension templates. This ignores the fact that normally the first template of the current page is chosen, following their sorting.</p>
<p>This improves user experience as the user expects the root template to be the one with highest priority.</p>
<h5 id="impact">Impact</h5>
<p>Pages where multiple templates are present not having a root-template as the topmost template in the list will encounter different results when templates are evaluated.</p>
<h5 id="affected-installations">Affected Installations</h5>
<p>Installations with pages where multiple templates are present not having a/the root-template as the topmost template.</p>
<h5 id="migration">Migration</h5>
<p>Ensure the templates have correct flags set.</p>
<h4 id="breaking-33805---clickmenu-rewrite">Breaking: #33805 - ClickMenu Rewrite</h4>
<h5 id="description-1">Description</h5>
<p>The ClickMenu has seen some major changes under the hood. This implies some refactoring within JavaScript where existing functionality is replaced by a AMD Module based on jQuery. The following JS methods are now replaced by respective methods.</p>
<p><code>   showClickmenu_raw()</code><br />
<code>   Clickmenu.show()</code><br />
<code>   Clickmenu.populateData()</code></p>
<p>The new functionality is available via a global JavaScript object called TYPO3.ClickMenu which has equal functions.</p>
<p>Additionally the ClickMenu is now used via AJAX completely, all non-AJAX calls are not supported anymore.</p>
<h5 id="impact-1">Impact</h5>
<p>All third-party extensions using alt_clickmenu.php directly in the backend, or using the above JavaScript calls directly.</p>
<h5 id="affected-installations-1">Affected Installations</h5>
<p>Any installation using extensions having Backend modules using JavaScript functions for the ClickMenu inline and installations using extensions using alt_clickmenu.php directly.</p>
<h5 id="migration-1">Migration</h5>
<p>Any use of “Clickmenu.show()” etc should be avoided and channelled through the according DocumentTemplate methods.</p>
<p><code>   DocumentTemplate-&gt;wrapClickMenuOnIcon()</code><br />
<code>   DocumentTemplate-&gt;getContextMenuCode()</code></p>
<p>If a backend module without a DocumentTemplate (with e.g. Extbase/Fluid) is used, this is done with a separate class and according data attribute:</p>
<p><code>   a href=</code>“<code>#</code>”<code>class=</code>“<code>t3-js-clickmenutrigger</code>”<code>data-table=</code>“<code>be_users</code>”<code>data-uid=</code>“<code>{record.uid}</code>”<code>data-listframe=</code>“<code>1</code>”<code>&gt;</code></p>
<h4 id="breaking-42543---default-typoscript-removed">Breaking: #42543 - Default TypoScript Removed</h4>
<h5 id="description-2">Description</h5>
<p>The default TypoScript styles.insertContent was removed without substitution.</p>
<h5 id="impact-2">Impact</h5>
<p>Frontend output may change.</p>
<h5 id="affected-installations-2">Affected Installations</h5>
<p>A TYPO3 instance is affected if its TypoScript operates with styles.insertContent. This is pretty unlikely since the styles segment was hidden in the TypoScript Object Browser.</p>
<h5 id="migration-2">Migration</h5>
<p>Either remove usage of styles.insertContent or add a snippet at an early point in TypoScript for backwards compatibility.</p>
<p>:</p>
<pre><code>:   </code></pre>
<p><code> styles.insertContent = CONTENT</code><br />
<code> styles.insertContent {</code><br />
<code>   table = tt_content</code><br />
<code>   select {</code><br />
<code>     orderBy = sorting</code><br />
<code>     where = colPos=0</code><br />
<code>     languageField = sys_language_uid</code><br />
<code>   }</code><br />
<code> }</code></p>
<p>..</p>
<h4 id="breaking-62416---removal-of-deprecated-code-in-sysext-fluid">Breaking: #62416 - Removal of deprecated code in sysext fluid</h4>
<h5 id="description-3">Description</h5>
<p>ContainerViewHelper</p>
<hr />
<p>The following options have been removed from the ViewHelper:</p>
<ul>
<li>enableJumpToUrl</li>
<li>addCssFile, use includeCssFiles instead</li>
<li>addJsFile, use includeJsFiles instead</li>
</ul>
<p>AbstractBackendViewHelper</p>
<hr />
<p>The usage of $GLOBALS['SOBE'] is removed for retrieving the DocumentTemplate instance. Use -&gt;getDocInstance() instead.</p>
<p>TemplateView</p>
<hr />
<p>The following methods have been removed:</p>
<ul>
<li>getTemplateRootPath() is removed, use getTemplateRootPaths() instead</li>
<li>getPartialRootPath() is removed, use setPartialRootPaths() instead</li>
<li>getLayoutRootPath() is removed, use getLayoutRootPaths() instead</li>
</ul>
<h5 id="impact-3">Impact</h5>
<p>A call to any of the aforementioned methods by third party code will result in a fatal PHP error.</p>
<h5 id="affected-installations-3">Affected Installations</h5>
<p>Any installation which contains third party code still using these deprecated methods.</p>
<h5 id="migration-3">Migration</h5>
<p>Replace the calls with the suggestions outlined above.</p>
<h4 id="breaking-53568---option-alternatebgcolors-removed">Breaking: #53568 - option alternateBgColors removed</h4>
<h5 id="description-4">Description</h5>
<p>The PageTSConfig option mod.web_list.alternateBgColors is removed without substitution.</p>
<h5 id="impact-4">Impact</h5>
<p>Extensions that extend the DatabaseRecordList and are using the property alternateBgColors</p>
<p>The option in the TableListViewHelper has been deprecated and will be removed in TYPO3 CMS 8.</p>
<h5 id="affected-installations-4">Affected Installations</h5>
<p>A TYPO3 instance is affected if a 3rd party extension uses the removed property.</p>
<h5 id="migration-4">Migration</h5>
<p>Remove the call to the removed property.</p>
<h4 id="breaking-54409---rte-acronym-button-was-renamed-abbreviation">Breaking: #54409 - RTE “acronym” button was renamed “abbreviation”</h4>
<h5 id="description-5">Description</h5>
<p>The “acronym” tag being deprecated, the RTE “acronym” button was renamed “abbreviation”. Accordingly, the RTE Acronym plugin was renamed Abbreviation.</p>
<h5 id="impact-5">Impact</h5>
<p>The “abbreviation” button may not appear in the RTE toolbar, if configured as “acronym” in Page TSconfig, TCA special configuration options and/or User TSconfig. Possible undefined PHP class errors. Possible Javascript or file not found errors.</p>
<h5 id="affected-installations-5">Affected Installations</h5>
<p>An installation is affected if the “acronym” button was configured in Page TSconfig and/or User TSconfig. An installation is affected if a 3rd party extension refers to the “acronym” button in TCA special configuration options. An installation is affected if a 3rd party extension refers to class TYPO3\CMS\Rtehtmlarea\Extension\Acronym An installation is affected if a 3rd party extension loads the JavaScript file of the Acronym plugin: EXT:rtehtmlarea/Resources/Public/Javascript/Plugins/Acronym.js</p>
<h5 id="migration-5">Migration</h5>
<p>There is no immediate impact on the RTE configuration in Page TSconfig and TCA special configuration options until the automatic conversion of existing references to “acronym” is removed in TYPO3 CMS 8.0. Intallations may run the upgrade wizard of the Install tool to migrate the contents of Page TSconfig, replacing “acronym” by “abbreviation”. Note that this string replacement will apply to all contents of PageTSconfig. The migration of PageTSconfig may also be done manually.</p>
<p>User TSconfig must be modified to refer to “abbreviation” instead of “acronym”.</p>
<p>Any affected 3rd party extension must be modified to refer to the “abbreviation” button rather than “acronym” in TCA special configuration options. Any affected 3rd party extension must be modified to refer to class TYPO3\CMS\Rtehtmlarea\Extension\Abbreviation rather than TYPO3\CMS\Rtehtmlarea\Extension\Acronym Any affected 3rd party extension must be modified to load EXT:rtehtmlarea/Resources/Public/Javascript/Plugins/Abbreviation.js rather than EXT:rtehtmlarea/Resources/Public/Javascript/Plugins/Acronym.js</p>
<h4 id="breaking-57382---remove-old-flash-message-api">Breaking: #57382 - Remove old flash message API</h4>
<h5 id="description-6">Description</h5>
<p>The old flash message API is removed.</p>
<h5 id="impact-6">Impact</h5>
<p>Extensions relying on the old (static) flash message queue API will not work anymore. Extbase removes the protected old flashMessageContainer.</p>
<h5 id="affected-installations-6">Affected Installations</h5>
<p>Any installation that uses an extension relying on the old API.</p>
<h5 id="migration-6">Migration</h5>
<p>Change the API calls to not be of static kind anymore. Extbase extensions have to use getFlashMessageQueue() of the controllerContext</p>
<h4 id="breaking-57396---deprecated-extbase-property-mapper-was-removed">Breaking: #57396 - Deprecated Extbase Property Mapper was removed</h4>
<h5 id="description-7">Description</h5>
<p>A new Property Mapper that mapped request arguments to controller action arguments was introduced in Extbase 1.4 and the old one was deprecated at the same time. Along with the mapping, the validation API has also been changed. The rewritten property mapper is turned on by default since TYPO3 6.2</p>
<p>Now the old mapping and validation API is completely removed.</p>
<h5 id="impact-7">Impact</h5>
<p>Extbase extensions that relied on the internal behaviour of the deprecated property mapper or make use of the old validation API will stop working or may not work as expected any more.</p>
<h5 id="affected-installations-7">Affected Installations</h5>
<p>Extbase extensions that turned off the introduced feature switch with the TypoScript setting features.rewrittenPropertyMapper = 0 because they relied on internal behavior of the old property mapper will stop working.</p>
<h5 id="migration-7">Migration</h5>
<p>Manual migration of extension code might be required, especially when own validators using the old validation API were used.</p>
<h4 id="breaking-59659---removal-of-deprecated-code-in-sysext-backend">Breaking: #59659 - Removal of deprecated code in sysext backend</h4>
<h5 id="description-8">Description</h5>
<p>Flexforms</p>
<hr />
<p>Flexform xml that still contains the old &quot;<tx_templavoila></p>
<title>
<p>&quot; code has to be adapted. The “<tx_templavoila>” elements needs to be removed.</p>
<p>Wizard registration</p>
<hr />
<p>Wizard registration in TCA must not contain the “script=some/path/script.php” definition anymore. The new API for registering wizards is to set “module[name]=module_name”.</p>
<p>Removed PHP methods</p>
<hr />
<ul>
<li>FormEngine::dbFileCon() is removed without replacement. The functionality is not needed anymore.</li>
<li>AbstractRecordList::writeBottom() is removed without replacement. The functionality is not needed anymore.</li>
<li>SpriteGenerator::setOmmitSpriteNameInIconName() is removed in favor of setOmitSpriteNameInIconName()</li>
<li>DocumentTemplate::isCMlayers() is removed without replacement. The functionality is obsolete.</li>
<li>DocumentTemplate::getFileheader() is removed. Use getResourceHeader() instead.</li>
<li>BackendUtility::displayWarningMessages() is removed without replacement. The functionality was moved to ext:aboutmodules.</li>
<li>IconUtility::getIconImage() is removed without replacement. Use sprite icon API instead.</li>
<li>PageLayoutView::getSelectedBackendLayoutUid() is removed. Use BackendLayoutView::getSelectedCombinedIdentifier() instead.</li>
<li>ClickMenu::menuItemsForClickMenu() is removed without replacement. The functionality is obsolete.</li>
</ul>
<p>Removed JS functions</p>
<hr />
<ul>
<li>showClickmenu_noajax() is removed. Use Clickmenu.ajax = false; showClickmenu_raw(); instead.</li>
<li>setLayerObj() is replaced with Clickmenu.populateData().</li>
<li>hideEmpty() is replaced with Clickmenu.hideAll().</li>
<li>hideSpecific() is replaced with Clickmenu.hide(). E.g. Clickmenu.hide('contentMenu1');</li>
<li>showHideSelectorBoxes() is replaced with toggleSelectorBoxes().</li>
</ul>
<h5 id="impact-8">Impact</h5>
<p>A call to any of the aforementioned methods by third party code will result in a fatal PHP error.</p>
<h5 id="affected-installations-8">Affected Installations</h5>
<p>Any installation which contains third party code still using these deprecated methods.</p>
<h5 id="migration-8">Migration</h5>
<p>Replace the calls with the suggestions outlined above.</p>
<h4 id="breaking-59966---extension-configuration-cache-flushing-changed">Breaking: #59966 - Extension Configuration cache-flushing changed</h4>
<h5 id="description-9">Description</h5>
<p>On saving the configuration of an extension, the system cache group has been flushed. This is inefficient as this includes also the classes cache, but most changes will never need this cache to be cleared. We optimize this for the common case and stop flushing caches after configuration changes completely.</p>
<h5 id="impact-9">Impact</h5>
<p>Extensions which relied on cache-clearing after configuration changes may require a manual cache flush.</p>
<h5 id="affected-installations-9">Affected Installations</h5>
<p>Any installation that uses extensions relying on automatic cache flush after extension configuration changes.</p>
<h5 id="migration-9">Migration</h5>
<p>Extensions requiring a cache flush after configuration changes need to implement a slot for the afterExtensionConfigurationWrite signal which allows individual cache flush actions.</p>
<h4 id="breaking-60063---felogin-plugin-removed">Breaking: #60063 - Felogin Plugin Removed</h4>
<h5 id="description-10">Description</h5>
<p>File EXT:felogin/pi1/class.tx_felogin_pi1.php was removed.</p>
<h5 id="impact-10">Impact</h5>
<p><code>- A require in PHP of this file throws a fatal error.</code></p>
<p><code>- An includeLibs TypoScript setting to this file raises a warning.</code></p>
<h5 id="affected-installations-10">Affected Installations</h5>
<p>A TYPO3 instance is affected if a 3rd party extension requires EXT:felogin/pi1/class.tx_felogin_pi1.php or if an includeLibs TypoScript setting to this file is set.</p>
<h5 id="migration-10">Migration</h5>
<p>Remove the require line in PHP and includeLibs line in TypoScript, they are obsolete.</p>
<h4 id="breaking-60135---recursive-stdwrap-is-now-only-called-once">Breaking: #60135 - Recursive stdWrap is now only called once</h4>
<h5 id="description-11">Description</h5>
<p>If recursive stdWrap configuration was used, the stdWrap method was called twice, although the content was only rendered once. This performance overhead is now removed.</p>
<h5 id="impact-11">Impact</h5>
<p>If a recursive stdWrap configuration is used, which sets or acts on a global state like registers, the resulting rendering can now be different because the global state is now modified only once.</p>
<h5 id="affected-installations-11">Affected Installations</h5>
<dl>
<dt>A TYPO3 instance is affected if there is TypoScript code like:</dt>
<dd><p>:</p>
</dd>
</dl>
<p><code> page.1 = TEXT</code><br />
<code> page.1 {</code><br />
<code>   value = Counter:</code><br />
<code>   append = TEXT</code><br />
<code>   append.data = register:Counter</code><br />
<code>   stdWrap.append = LOAD_REGISTER</code><br />
<code>   stdWrap.append {</code><br />
<code>     Counter.cObject = TEXT</code><br />
<code>     Counter.cObject.data = register:Counter</code><br />
<code>     Counter.cObject.wrap = |+1</code><br />
<code>     Counter.prioriCalc = 1</code><br />
<code>   }</code><br />
<code> }</code></p>
<p>..</p>
<p>This now correctly outputs Counter:1 instead of Counter:2</p>
<h5 id="migration-11">Migration</h5>
<p>The usage of recursive stdWrap TypoScript configuration needs to be checked and probably adapted to fit the fixed behavior.</p>
<h4 id="breaking-60152---generalutilityformatsize-is-now-locale-aware">Breaking: #60152 - GeneralUtility::formatSize is now locale aware</h4>
<h5 id="description-12">Description</h5>
<p>The GeneralUtility::formatSize() method now adheres to the currently set locale and selects the correct decimal separator symbol. This also applies to the TypoScript option stdWrap.bytes, which uses the method internally, as well as the Filelist content element type.</p>
<h5 id="impact-12">Impact</h5>
<p>All output generated for locales, where the decimal separator is not a dot, will change to use the correct symbol. e.g. comma for German.</p>
<h5 id="affected-installations-12">Affected Installations</h5>
<p>Any installation that uses the formatSize() method in one of the ways mentioned.</p>
<h5 id="migration-12">Migration</h5>
<p>If you think you get the wrong decimal separator, ensure the locale is configured correctly and the locale really exists on the server.</p>
<p>TypoScript option: config.locale Commandline: locale -a</p>
<h4 id="breaking-60559---dropped-backend-login-options">Breaking: #60559 - Dropped Backend Login Options</h4>
<h5 id="description-13">Description</h5>
<p>Handling of $GLOBALS['TBE_STYLES']['loginBoxImage_rotationFolder'] and $GLOBALS['TBE_STYLES']['loginBoxImage_author'] was dropped.</p>
<h5 id="impact-13">Impact</h5>
<p>Setting those options has no effect anymore.</p>
<h5 id="affected-installations-13">Affected Installations</h5>
<p>These options had no effect with standard core internal login screen based on t3skin for a long time already. Instances are only affected if a 3rd party extension is loaded that changes the backend login screen and operates with these settings.</p>
<h5 id="migration-13">Migration</h5>
<p>Remove these options and their usage from the affected 3rd party extension or unload the extension.</p>
<h4 id="breaking-60559---t3skin-backend-login-javascript-file-moved">Breaking: #60559 - T3skin Backend Login Javascript File Moved</h4>
<h5 id="description-14">Description</h5>
<p>Javascript files of the backend login form moved from EXT:t3skin to EXT:backend.</p>
<h5 id="impact-14">Impact</h5>
<p>Javascript or file not found errors.</p>
<h5 id="affected-installations-14">Affected Installations</h5>
<p>An installation is affected if a 3rd party extension includes EXT:t3skin/Resources/Public/JavaScript/login.js</p>
<h5 id="migration-14">Migration</h5>
<p>Include EXT:backend/Resources/Public/JavaScript/login.js instead or refactor the affected extension to free it from the dependency to this core internal file.</p>
<h4 id="breaking-60559---t3skin-backend-login-template-file-moved">Breaking: #60559 - T3skin Backend Login Template File Moved</h4>
<h5 id="description-15">Description</h5>
<p>The HTML template file for the backend login screen was moved from EXT:t3skin to EXT:backend.</p>
<h5 id="impact-15">Impact</h5>
<p>Broken login screen.</p>
<h5 id="affected-installations-15">Affected Installations</h5>
<p>A TYPO3 instance is affected if a 3rd party extension uses file EXT:t3skin/Resources/Private/Templates/login.html</p>
<h5 id="migration-15">Migration</h5>
<p>Use file EXT:backend/Resources/Private/Templates/login.html instead or refactor the affected extension to free it from the dependency to this core internal file.</p>
<h4 id="breaking-60561---default-typoscript-constants-removed">Breaking: #60561 - Default TypoScript Constants Removed</h4>
<h5 id="description-16">Description</h5>
<p>These default TypoScript constants were dropped:</p>
<p><code>- {$_clear}</code><br />
<code>- {$_blackBorderWrap}</code><br />
<code>- {$_tableWrap}</code><br />
<code>- {$_tableWrap_DEBUG}</code><br />
<code>- {$_stdFrameParams}</code><br />
<code>- {$_stdFramesetParams}</code></p>
<h5 id="impact-16">Impact</h5>
<p>Frontend output may change.</p>
<h5 id="affected-installations-16">Affected Installations</h5>
<p>A TYPO3 instance is affected if own TypoScript uses the above mentioned TypoScript constants.</p>
<h5 id="migration-16">Migration</h5>
<p>Either remove usage of the above constants or add a snippet at an early point in TypoScript for backwards compatibility.</p>
<pre><code>  _clear = &lt;img src=&quot;clear.gif&quot; width=&quot;1&quot; height=&quot;1&quot; alt=&quot;&quot; /&gt;
  _blackBorderWrap = &lt;table border=&quot;0&quot; bgcolor=&quot;black&quot; cellspacing=&quot;0&quot; cellpadding=&quot;1&quot;&gt;&lt;tr&gt;&lt;td&gt; | &lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
  _tableWrap = &lt;table border=&quot;0&quot; cellspacing=&quot;0&quot; cellpadding=&quot;0&quot;&gt; | &lt;/table&gt;
  _tableWrap_DEBUG = &lt;table border=&quot;1&quot; cellspacing=&quot;0&quot; cellpadding=&quot;0&quot;&gt; | &lt;/table&gt;
  _stdFrameParams = frameborder=&quot;no&quot; marginheight=&quot;0&quot; marginwidth=&quot;0&quot; noresize=&quot;noresize&quot;
  _stdFramesetParams = &#39;border=&quot;0&quot; framespacing=&quot;0&quot; frameborder=&quot;no&quot;</code></pre>
<p>..</p>
<h4 id="breaking-60582---rsaauth-javascript-files-moved">Breaking: #60582 - Rsaauth Javascript Files Moved</h4>
<h5 id="description-17">Description</h5>
<p>Javascript files from EXT:rsaauth were moved from resources/ to Resources/Public/JavaScript.</p>
<h5 id="impact-17">Impact</h5>
<p>Javascript or file not found errors.</p>
<h5 id="affected-installations-17">Affected Installations</h5>
<p>An installation is affected if a 3rd party extension includes Javascript files from rsaauth.</p>
<h5 id="migration-17">Migration</h5>
<p>Change affected extension to include Javascript files from resources/ to Resources/Public/JavaScript/.</p>
<h4 id="breaking-60609---configuration-manager-signal-changed">Breaking: #60609 - Configuration Manager Signal Changed</h4>
<h5 id="description-18">Description</h5>
<p>The extension for which the configuration was written was added to the signal emitted in the ConfigurationManager of the ExtensionManager as first parameter as the whole signal was unusable without this information.</p>
<h5 id="impact-18">Impact</h5>
<p>The arguments for a method listening to this signal have changed.</p>
<h5 id="affected-installations-18">Affected Installations</h5>
<p>A TYPO3 instance is affected if there is code using the signal “afterExtensionConfigurationWrite”.</p>
<h5 id="migration-18">Migration</h5>
<p>Rewrite the listening function to use the extension key as first parameter.</p>
<h4 id="breaking-60630---scheduler-javascript-file-moved">Breaking: #60630 - Scheduler Javascript File Moved</h4>
<h5 id="description-19">Description</h5>
<p>Javascript files of the scheduler module moved from EXT:scheduler/res/tx_scheduler_be.js to EXT:scheduler/Resources/Public/JavaScript/Scheduler.js</p>
<h5 id="impact-19">Impact</h5>
<p>Javascript or file not found errors.</p>
<h5 id="affected-installations-19">Affected Installations</h5>
<p>An installation is affected if a 3rd party extension includes EXT:scheduler/res/tx_scheduler_be.js</p>
<h5 id="migration-19">Migration</h5>
<p>Include EXT:scheduler/Resources/Public/JavaScript/Scheduler.js instead or refactor the affected extension to free it from the dependency to this scheduler internal file.</p>
<h4 id="breaking-60630---scheduler-language-files-moved">Breaking: #60630 - Scheduler Language Files Moved</h4>
<h5 id="description-20">Description</h5>
<p>The language files of the scheduler extension are moved to EXT:scheduler/Resources/Private/Language/</p>
<h5 id="impact-20">Impact</h5>
<p>Labels are not translated when being fetched from old file location.</p>
<h5 id="affected-installations-20">Affected Installations</h5>
<p>A TYPO3 instance is affected if a 3rd party extension uses a language file from EXT:scheduler or if localization overrides of these files are registered. Those overridden labels may not work anymore.</p>
<h5 id="migration-20">Migration</h5>
<p>Use new path to language file instead or create/copy the labels to an own language file and adapt existing overrides to the new file locations.</p>
<h4 id="breaking-60630---scheduler-module-template-file-moved">Breaking: #60630 - Scheduler Module Template File Moved</h4>
<h5 id="description-21">Description</h5>
<p>The HTML template file for the scheduler module was moved from EXT:scheduler/mod1/mod_template.html to EXT:scheduler/Resources/Private/Templates/Module.html.</p>
<h5 id="impact-21">Impact</h5>
<p>Broken module screen.</p>
<h5 id="affected-installations-21">Affected Installations</h5>
<p>A TYPO3 instance is affected if a 3rd party extension uses file EXT:scheduler/mod1/mod_template.html</p>
<h5 id="migration-21">Migration</h5>
<p>Use file EXT:scheduler/Resources/Private/Templates/Module.html instead or refactor the affected extension to free it from the dependency to this scheduler internal file.</p>
<h4 id="breaking-61459---removal-of-tslib-directory-and-constant">Breaking: #61459 - Removal of tslib directory and constant</h4>
<h5 id="description-22">Description</h5>
<p>The tslib/ directory and the constant PATH_tslib were removed.</p>
<h5 id="impact-22">Impact</h5>
<p>Extensions that still use PATH_tslib constant, and reference typo/sysext/cms/tslib/index_ts.php directly won't work.</p>
<h5 id="affected-installations-22">Affected Installations</h5>
<p>A TYPO3 instance is affected if a 3rd party extension uses index_ts.php directly, or if the main index.php is not replaced with the TYPO3 Update (used on certain install types). The index.php file must be replaced with the current version from the TYPO3 CMS Core.</p>
<p>Besides scripts are affected that access the time tracking ($TT) or typoscript frontend controller ($TSFE) objects instead of using $GLOBALS['TT'] respectively $GLOBALS['TSFE'].</p>
<h5 id="migration-22">Migration</h5>
<p>Remove the constant PATH_tslib from the 3rd party extension, use a current version of index.php and use $GLOBALS['TT'] and $GLOBALS['TSFE'] where necessary.</p>
<h4 id="breaking-61471---extt3skin-css-files-moved-to-less">Breaking: #61471 - EXT:t3skin CSS files moved to less</h4>
<h5 id="description-23">Description</h5>
<p>All CSS files in EXT:t3skin are moved to less files and handled by less CSS pre processor and merged to a single CSS file.</p>
<h5 id="impact-23">Impact</h5>
<p>Single CSS files can not be included anymore. This may result in broken layouts.</p>
<h5 id="affected-installations-23">Affected Installations</h5>
<p>A TYPO3 instance is affected if an extension loads single CSS files from EXT:t3skin. Backend modules of extensions usually get CSS core stuff loaded by default, which will not be a problem. An extension is only affected if single CSS files are explicitly referenced. This should be a rare case.</p>
<h5 id="migration-23">Migration</h5>
<p>Most simple solution is to copy over the “old” CSS file from an older instance. Directly including those files from t3skin is discouraged. A better solution is to refactor the extension to use the full t3skin CSS file and to overlay it with required changes in an own file.</p>
<h4 id="breaking-61781---include_once-array-in-clickmenucontroller-removed">Breaking: #61781 - include_once array in ClickMenuController removed</h4>
<h5 id="description-24">Description</h5>
<p>The include_once array of the ClickMenuController, which is filled with paths from the $GLOBALS['TBE_MODULES_EXT']['xMOD_alt_clickmenu']['extendCMclasses']['path'] setting, has been removed.</p>
<h5 id="impact-24">Impact</h5>
<p>Extension classes relying on the $GLOBALS['TBE_MODULES_EXT']['xMOD_alt_clickmenu']['extendCMclasses']['path']registration for autoloading will not be loaded anymore.</p>
<h5 id="affected-installations-24">Affected Installations</h5>
<p>A TYPO3 instance is affected if a 3rd party extension uses the removed class loading registration method.</p>
<h5 id="migration-24">Migration</h5>
<p>All classes are autoloaded automatically by TYPO3 CMS Core.</p>
<h4 id="breaking-61782---deprecated-documenttemplate-classes-removed">Breaking: #61782 - deprecated DocumentTemplate classes removed</h4>
<h5 id="description-25">Description</h5>
<p>The following deprecated classes have been removed:</p>
<p>\TYPO3\CMS\Backend\Template\MediumDocumentTemplate</p>
<p>\TYPO3\CMS\Backend\Template\SmallDocumentTemplate</p>
<p>\TYPO3\CMS\Backend\Template\StandardDocumentTemplate</p>
<h5 id="impact-25">Impact</h5>
<p>Extensions that still use one of the removed classes for their backend module won't work.</p>
<h5 id="affected-installations-25">Affected Installations</h5>
<p>A TYPO3 instance is affected if a 3rd party extension uses one of the removed classes.</p>
<h5 id="migration-25">Migration</h5>
<p>Use \TYPO3\CMS\Backend\Template\DocumentTemplate instead.</p>
<h4 id="breaking-75942---bigdocumenttemplate-class-removed">Breaking: #75942 - BigDocumentTemplate class removed</h4>
<h5 id="description-26">Description</h5>
<p>The following class has been removed:</p>
<p>\TYPO3\CMS\Backend\Template\BigDocumentTemplate</p>
<h5 id="impact-26">Impact</h5>
<p>Extensions that still use the removed class for their backend module won't work.</p>
<h5 id="affected-installations-26">Affected Installations</h5>
<p>A TYPO3 instance is affected if a 3rd party extension uses the removed class.</p>
<h5 id="migration-26">Migration</h5>
<p>Use :code:`\TYPO3\CMS\Backend\Template\DocumentTemplate` instead.</p>
<h4 id="breaking-61783---removed-deprecated-mailing-api">Breaking: #61783 - Removed deprecated mailing API</h4>
<h5 id="description-27">Description</h5>
<p>The deprecated methods to send email are removed. This includes the MailUtility::mail() method, the mail delivery substitution API and the plainMailEncoded() methods.</p>
<h5 id="impact-27">Impact</h5>
<p>Any call to MailUtility::mail() or GeneralUtility::plainMailEncoded() will result in a fatal error. The option $GLOBALS['TYPO3_CONF_VARS']['SC_OPTIONS']['t3lib/utility/class.t3lib_utility_mail.php']['substituteMailDelivery'] does not have any effect.</p>
<h5 id="affected-installations-27">Affected Installations</h5>
<p>Any installation using an extension still using the deprecated API will fail.</p>
<h5 id="migration-27">Migration</h5>
<p>Use the \TYPO3\CMS\Core\Mail\Mailer API for sending email.</p>
<h4 id="breaking-61785---getcompressedtcarray-and-includetca-from-typoscriptfrontendcontroller-removed">Breaking: #61785 - getCompressedTCarray and includeTCA from TypoScriptFrontendController removed</h4>
<h5 id="description-28">Description</h5>
<p>Methods getCompressedTCarray() and includeTCA() from \TYPO3\CMS\Frontend\Controller\TypoScriptFrontendController have been removed.</p>
<h5 id="impact-28">Impact</h5>
<p>Extensions that still use \TYPO3\CMS\Frontend\Controller\TypoScriptFrontendController::getCompressedTCarray() or \TYPO3\CMS\Frontend\Controller\TypoScriptFrontendController::includeTCA() will trigger a fatal error.</p>
<h5 id="affected-installations-28">Affected Installations</h5>
<p>A TYPO3 instance is affected if a 3rd party extension uses one of the removed functions.</p>
<h5 id="migration-28">Migration</h5>
<p>Full TCA is always loaded during bootstrap in FE, the methods are obsolete. If an eid script calls this method to load TCA, use \TYPO3\CMS\Frontend\Utility\EidUtility::initTCA() instead.</p>
<h4 id="breaking-61785---loadtca-function-in-generalutility-removed">Breaking: #61785 - loadTCA function in GeneralUtility removed</h4>
<h5 id="description-29">Description</h5>
<p>Method loadTCA() from \TYPO3\CMS\Core\Utility\GeneralUtility is removed.</p>
<h5 id="impact-29">Impact</h5>
<p>Extensions that still use \TYPO3\CMS\Core\Utility\GeneralUtility::loadTCA() will trigger a fatal error.</p>
<h5 id="affected-installations-29">Affected Installations</h5>
<p>A TYPO3 instance is affected if a 3rd party extension still calls loadTCA.</p>
<h5 id="migration-29">Migration</h5>
<p>The method is obsolete, full TCA is always loaded in all context except eID. It is safe to remove the method call.</p>
<h4 id="breaking-61786---remove-deprecated-typehandlingservice-in-extbase">Breaking: #61786 - remove deprecated TypeHandlingService in extbase</h4>
<h5 id="description-30">Description</h5>
<p>The TypeHandlingService class is removed from the extbase extension.</p>
<h5 id="impact-30">Impact</h5>
<p>Extensions that still use \TYPO3\CMS\Extbase\Service\TypeHandlingService won't work.</p>
<h5 id="affected-installations-30">Affected Installations</h5>
<p>A TYPO3 instance is affected if a 3rd party extension uses the removed class \TYPO3\CMS\Extbase\Service\TypeHandlingService.</p>
<h5 id="migration-30">Migration</h5>
<p>Replace all calls to \TYPO3\CMS\Extbase\Service\TypeHandlingService functions to their new static functions in \TYPO3\CMS\Extbase\Utility\TypeHandlingUtility</p>
<h4 id="breaking-61802---deprecated-islocalconfwritable-function-removed">Breaking: #61802 - deprecated isLocalconfWritable function removed</h4>
<h5 id="description-31">Description</h5>
<p>The function isLocalconfWritable() from \TYPO3\CMS\Core\Utility\ExtensionManagementUtility has been removed. The boostrap now just checks for the existence of the file and redirects to the install tool if it doesn't exist.</p>
<h5 id="impact-31">Impact</h5>
<p>Extensions that still use the function isLocalconfWritable() won't work.</p>
<h5 id="affected-installations-31">Affected Installations</h5>
<p>A TYPO3 instance is affected if a 3rd party extension uses the removed function.</p>
<h5 id="migration-31">Migration</h5>
<p>Remove the call to this function. The bootstrap takes care to check the existence of the file.</p>
<h4 id="breaking-61820---deprecated-phpoptionsutility-functions-removed">Breaking: #61820 - deprecated PhpOptionsUtility functions removed</h4>
<h5 id="description-32">Description</h5>
<p>The \TYPO3\CMS\Core\Utility\PhpOptionsUtility functions isSafeModeEnabled and isMagicQuotesGpcEnabled are removed.</p>
<h5 id="impact-32">Impact</h5>
<p>Extensions that still use one of the removed funtions won't work.</p>
<h5 id="affected-installations-32">Affected Installations</h5>
<p>A TYPO3 instance is affected if a 3rd party extension uses one of the removed functions.</p>
<h5 id="migration-32">Migration</h5>
<p>Remove the call to \TYPO3\CMS\Core\Utility\PhpOptionsUtility::isSafeModeEnabled() or \TYPO3\CMS\Core\Utility\PhpOptionsUtility::isMagicQuotesGpcEnabled() functions. The Install Tool takes care of the removed checks now.</p>
<h4 id="breaking-61821---classfile-option-in-makeinstanceservice-removed">Breaking: #61821 - classFile option in makeInstanceService removed</h4>
<h5 id="description-33">Description</h5>
<p>The option “classFile” in \TYPO3\CMS\Core\Utility\GeneralUtility\makeInstanceService() is removed. This should now be done by the respective ext_autoload.php of each extension.</p>
<h5 id="impact-33">Impact</h5>
<p>Extension classes relying on the “classFile” registration for autoloading will not be loaded anymore.</p>
<h5 id="affected-installations-33">Affected Installations</h5>
<p>A TYPO3 instance is affected if a 3rd party extension uses the removed class loading registration method.</p>
<h5 id="migration-33">Migration</h5>
<p>Use the ext_autoload.php file to autoload the class.</p>
<h4 id="breaking-61822---deprecated-function-getuniquefields-removed">Breaking: #61822 - deprecated function getUniqueFields() removed</h4>
<h5 id="description-34">Description</h5>
<p>The function getUniqueFields() from \TYPO3\CMS\Core\DataHandling\DataHandler has been removed. The function is available in \TYPO3\CMS\Version\Hook\DataHandlerHook.</p>
<h5 id="impact-34">Impact</h5>
<p>Extensions that still use the function getUniqueFields() won't work.</p>
<h5 id="affected-installations-34">Affected Installations</h5>
<p>A TYPO3 instance is affected if a 3rd party extension uses the removed function.</p>
<h5 id="migration-34">Migration</h5>
<p>Replace all calls to \TYPO3\CMS\Core\DataHandling\DataHandler::getUniqueFields() with calls to \TYPO3\CMS\Version\Hook\DataHandlerHook::getUniqueFields()</p>
<h4 id="breaking-61823---remove-magic-setter-for-fromtc">Breaking: #61823 - Remove magic setter for $fromTC</h4>
<h5 id="description-35">Description</h5>
<p>The magic setter for $fromTC in \TYPO3\CMS\Core\Database\RelationHandler is removed.</p>
<h5 id="impact-35">Impact</h5>
<p>Directly setting the protected property $fromTC will trigger a PHP warning.</p>
<h5 id="affected-installations-35">Affected Installations</h5>
<p>Any installation using an extension that sets $fromTC property directly.</p>
<h5 id="migration-35">Migration</h5>
<p>Use \TYPO3\CMS\Core\Database\RelationHandler::setFetchAllFields() instead.</p>
<h4 id="breaking-61828---deprecated-isdisplaycondition-function-from-formengine-removed">Breaking: #61828 - deprecated isDisplayCondition function from FormEngine removed</h4>
<h5 id="description-36">Description</h5>
<p>Method isDisplayCondition() from \TYPO3\CMS\Backend\Form\FormEngine has been removed.</p>
<h5 id="impact-36">Impact</h5>
<p>Extensions that still use the function isDisplayCondition() will trigger a fatal PHP error when records are edited in the backend.</p>
<h5 id="affected-installations-36">Affected Installations</h5>
<p>A TYPO3 instance is affected if a 3rd party extension uses the removed function.</p>
<h5 id="migration-36">Migration</h5>
<p>Use \TYPO3\CMS\Backend\Form\ElementConditionMatcher instead.</p>
<p>/** <span class="citation">@var</span> $elementConditionMatcher \TYPO3\CMS\Backend\Form\ElementConditionMatcher */ $elementConditionMatcher = \TYPO3\CMS\Core\Utility\GeneralUtility::makeInstance(\TYPO3\CMS\Backend\Form\ElementConditionMatcher::class); $elementConditionMatcher-&gt;match($displayCond, $row, $ffValueKey);</p>
<h4 id="breaking-61859---deprecated-file-type-filetype_software-removed">Breaking: #61859 - deprecated file type FILETYPE_SOFTWARE removed</h4>
<h5 id="description-37">Description</h5>
<p>The constant \TYPO3\CMS\Core\Resource\AbstractFile::FILETYPE_SOFTWARE has been removed.</p>
<h5 id="impact-37">Impact</h5>
<p>Using the removed constant will result in a fatal error.</p>
<h5 id="affected-installations-37">Affected Installations</h5>
<p>Any installation using an extension that uses the constant \TYPO3\CMS\Core\Resource\AbstractFile::FILETYPE_SOFTWARE.</p>
<h5 id="migration-37">Migration</h5>
<p>Use \TYPO3\CMS\Core\Resource\AbstractFile::FILETYPE_APPLICATION instead, which matches the Iana standard.</p>
<h4 id="breaking-61860---deprecated-function-int_from_ver-removed">Breaking: #61860 - deprecated function int_from_ver removed</h4>
<h5 id="description-38">Description</h5>
<p>Function int_from_ver() from \TYPO3\CMS\Core\Utility\GeneralUtility has been removed.</p>
<h5 id="impact-38">Impact</h5>
<p>Extensions that still use the function int_from_ver() won't work.</p>
<h5 id="affected-installations-38">Affected Installations</h5>
<p>A TYPO3 instance is affected if a 3rd party extension uses the removed function.</p>
<h5 id="migration-38">Migration</h5>
<p>Replace the usage of the removed function with \TYPO3\CMS\Core\Utility\VersionNumberUtility::convertVersionNumberToInteger()</p>
<h4 id="breaking-61863---deprecated-connectdb-from-eidutility-removed">Breaking: #61863 - deprecated connectDB from EidUtility removed</h4>
<h5 id="description-39">Description</h5>
<p>Method connectDB() from \TYPO3\CMS\Frontend\Utility\EidUtility has been removed.</p>
<h5 id="impact-39">Impact</h5>
<p>Extensions that still use the function connectDB() will trigger a fatal PHP error when an eID script is called.</p>
<h5 id="affected-installations-39">Affected Installations</h5>
<p>A TYPO3 instance is affected if a 3rd party extension uses the removed function.</p>
<h5 id="migration-39">Migration</h5>
<p>The function can be removed safely. The database will connect itself if needed.</p>
<h4 id="breaking-61890---tbe-styling-removed-from-formengine-and-tca">Breaking: #61890 - TBE Styling removed from FormEngine and TCA</h4>
<h5 id="description-40">Description</h5>
<p>The styling functionality of FormEngine was based on a mixture of loose variables within $GLOBALS['TBE_STYLES'] overridden by hardcoded values in various Backend PHP classes. This setup, additionally mixed with CSS classes that followed a very complicated syntax to render certain fields differently, has been removed in order to allow Backend styling for FormEngine completely based on CSS/LESS.</p>
<h5 id="impact-40">Impact</h5>
<p>Using the following CSS classes within FormEngine don't have any effect anymore:</p>
<ul>
<li>class-main</li>
<li>class-main1</li>
<li>class-main2</li>
<li>class-main3</li>
<li>class-main4</li>
<li>class-main5</li>
<li>class-main11</li>
<li>class-main12</li>
<li>class-main13</li>
<li>class-main14</li>
<li>class-main15</li>
<li>class-main21</li>
<li>class-main22</li>
<li>class-main23</li>
<li>class-main24</li>
<li>class-main25</li>
<li>class-main31</li>
<li>class-main32</li>
<li>class-main33</li>
<li>class-main34</li>
<li>class-main35</li>
<li>class-main41</li>
<li>class-main42</li>
<li>class-main43</li>
<li>class-main44</li>
<li>class-main45</li>
<li>class-main51</li>
<li>class-main52</li>
<li>class-main53</li>
<li>class-main54</li>
<li>class-main55</li>
<li>wrapperTable</li>
<li>wrapperTable1</li>
<li>wrapperTable2</li>
<li>wrapperTable3</li>
<li>wrapperTable4</li>
<li>wrapperTable5</li>
<li>formField</li>
<li>formField1</li>
<li>formField2</li>
<li>formField3</li>
<li>formField4</li>
<li>formField5</li>
</ul>
<p>Additionally, the following keys of $TBE_STYLES have no effect anymore:</p>
<ul>
<li>$TBE_STYLES['colorschemes']</li>
<li>$TBE_STYLES['styleschemes']</li>
<li>$TBE_STYLES['borderschemes']</li>
</ul>
<p>They can safely removed from any third party extension.</p>
<p>The 5th parameter defining custom styleschemes in any field defined in $TCA[mytable][types][mytype][showitem] or $TCA[mytable][palettes][mypalette][showitem] has no effect anymore and can be removed from any third party extension (e.g. myfield;mylabel;usedpalette;extraDefinition;stylescheme).</p>
<p>Any styling is now done solely via LESS.</p>
<h5 id="affected-installations-40">Affected Installations</h5>
<p>A TYPO3 instance is affected if a 3rd party extension uses the CSS classes for styling or dynamic HTML via JavaScript.</p>
<h5 id="migration-40">Migration</h5>
<p>Use the available CSS classes for custom styling and modifying FormEngine. Clean up any custom TCA definitions with a stylescheme in 3rd party extensions, where the fifth parameter of a field definition in $TCA[mytable][types][mytype][showitem] or $TCA[mytable][palettes][mypalette][showitem] is used.</p>
<h4 id="breaking-61959---move-flash-message-output-to-alerts">Breaking: #61959 - Move flash message output to alerts</h4>
<h5 id="description-41">Description</h5>
<p>Flash messages are now styled by using the native CSS classes of Twitter Bootstrap. The changed classes are:</p>
<ul>
<li>“typo3-message message-notice” =&gt; “alert alert-notice”</li>
<li>“typo3-message message-information” =&gt; “alert alert-info”</li>
<li>“typo3-message message-ok” =&gt; “alert alert-success”</li>
<li>“typo3-message message-warning” =&gt; “alert alert-warning”</li>
<li>“typo3-message message-error” =&gt; “alert alert-danger”</li>
</ul>
<h5 id="impact-41">Impact</h5>
<p>Extensions which use the old classes like “typo3-message message-information” rely on deprecated CSS classes which might lead to non styled output.</p>
<h5 id="affected-installations-41">Affected Installations</h5>
<p>Any installation that uses the HTML of flash messages without calling the API.</p>
<h5 id="migration-41">Migration</h5>
<p>Change the used CSS classes to the new ones.</p>
<h4 id="breaking-62038---deprecated-documenttemplate-functionality">Breaking: #62038 - Deprecated DocumentTemplate functionality</h4>
<h5 id="description-42">Description</h5>
<p>The Backend/DocumentTemplate class contains various options that have no effect in the core anymore:</p>
<p>$doc-&gt;JScodeLibArray $doc-&gt;docType (as rendering is always as HTML5 by default) $doc-&gt;inDocStyles (use inDocStylesArray) $doc-&gt;inDocStyles_TBEstyle (now used as inDocStylesArray[tbeStyle] $doc-&gt;charset (always utf-8)</p>
<p>The methods $doc-&gt;formatTime() and $doc-&gt;menuTable() have also been deprecated as they are not used anymore.</p>
<h5 id="impact-42">Impact</h5>
<p>Extensions that still use the properties of DocumentTemplate will not see any changes in the output of the code anymore.</p>
<h5 id="affected-installations-42">Affected Installations</h5>
<p>A TYPO3 instance is affected if a 3rd party extension uses the unused variables.</p>
<h5 id="migration-42">Migration</h5>
<p>The variables can be removed safely, any modifications is possible via hooks in DocumentTemplate.</p>
<h4 id="breaking-62039---removed-tbe_stylesmaincolors">Breaking: #62039 - Removed TBE_STYLES[mainColors]</h4>
<h5 id="description-43">Description</h5>
<p>The values within $TBE_STYLES[mainColors] are redundant and can be completely defined via CSS nowadays. The corresponding PHP leftovers are removed from the core and have no effect anymore.</p>
<h5 id="impact-43">Impact</h5>
<p>Setting the variables within $TBE_STYLES[mainColors] and using the $doc-&gt;bgColor* and $doc-&gt;hoverColor properties of DocumentTemplate have no effect anymore.</p>
<h5 id="affected-installations-43">Affected Installations</h5>
<p>Any installation using an extension that is overriding skin info via $TBE_STYLES[mainColors].</p>
<h5 id="migration-43">Migration</h5>
<p>Use CSS directly to modify the appearance of the Backend.</p>
<h4 id="breaking-62291---rte-deprecated-javascript-methods-removed">Breaking: #62291 - RTE Deprecated JavaScript methods removed</h4>
<h5 id="description-44">Description</h5>
<p>The following RTE JavaScript methods, deprecated since TYPO3 4.7, have been removed:</p>
<p>HTMLArea.Editor.forceRedraw: use HTMLArea.Framework.doLayout instead</p>
<p>HTMLArea.Editor.convertNode: use HTMLArea.DOM.convertNode instead HTMLArea.Editor.getBlockAncestors: use HTMLArea.DOM.getBlockAncestors instead HTMLArea.getInnerText: use HTMLArea.DOM.getInnerText instead HTMLArea.hasAllowedAttributes: use HTMLArea.DOM.hasAllowedAttributes instead HTMLArea.isBlockElement: use HTMLArea.DOM.isBlockElement instead HTMLArea.needsClosingTag: use HTMLArea.DOM.needsClosingTag instead HTMLArea.Editor.rangeIntersectsNode: use HTMLArea.DOM.rangeIntersectsNode instead HTMLArea.removeFromParent: use HTMLArea.DOM.removeFromParent instead</p>
<p>HTMLArea.Editor.cleanAppleStyleSpans: use HTMLArea.DOM.Node.cleanAppleStyleSpans instead HTMLArea.Editor.removeMarkup: use HTMLArea.DOM.Node.removeMarkup instead HTMLArea.Editor.wrapWithInlineElement: use HTMLArea.DOM.Node.wrapWithInlineElement instead</p>
<p>HTMLArea.Editor.addRangeToSelection: use HTMLArea.DOM.Selection.addRange instead HTMLArea.Editor._createRange: use HTMLArea.DOM.Selection.createRange instead HTMLArea.Editor.emptySelection: use HTMLArea.DOM.Selection.empty instead HTMLArea.Editor.endPointsInSameBlock: use HTMLArea.DOM.Selection.endPointsInSameBlock instead HTMLArea.Editor.execCommand: use HTMLArea.DOM.Selection.execCommand instead HTMLArea.Editor._getSelection: use HTMLArea.DOM.Selection.get instead HTMLArea.Editor.getAllAncestors: use HTMLArea.DOM.Selection.getAllAncestors instead HTMLArea.Editor.getSelectedElement: use HTMLArea.DOM.Selection.getElement instead HTMLArea.Editor.getEndBlocks: use HTMLArea.DOM.Selection.getEndBlocks instead HTMLArea.Editor._getFirstAncestor: use HTMLArea.DOM.Selection.getFirstAncestorOfType instead HTMLArea.Editor.getFullySelectedNode: use HTMLArea.DOM.Selection.getFullySelectedNode instead HTMLArea.Editor.getSelectedHTML: use HTMLArea.DOM.Selection.getHtml instead HTMLArea.Editor.getSelectedHTMLContents: use HTMLArea.DOM.Selection.getHtml instead HTMLArea.Editor.getParentElement: use HTMLArea.DOM.Selection.getParentElement instead HTMLArea.Editor.getSelectionRanges: use HTMLArea.DOM.Selection.getRanges instead HTMLArea.Editor.getSelectionType: use HTMLArea.DOM.Selection.getType instead HTMLArea.Editor.insertHTML: use HTMLArea.DOM.Selection.insertHtml instead HTMLArea.Editor.insertNodeAtSelection: use HTMLArea.DOM.Selection.insertNode instead HTMLArea.Editor._selectionEmpty: use HTMLArea.DOM.Selection.isEmpty instead HTMLArea.Editor.hasSelectedText: use !HTMLArea.DOM.Selection.isEmpty instead HTMLArea.Editor.selectNode: use HTMLArea.DOM.Selection.selectNode instead HTMLArea.Editor.selectNodeContents: use HTMLArea.DOM.Selection.selectNodeContents instead HTMLArea.Editor.selectRange: use HTMLArea.DOM.Selection.selectRange instead HTMLArea.Editor.setSelectionRanges: use HTMLArea.DOM.Selection.setRanges instead HTMLArea.Editor.surroundHTML: use HTMLArea.DOM.Selection.surroundHtml instead</p>
<p>HTMLArea.Editor.getBookmark: use HTMLArea.DOM.BookMark.get instead HTMLArea.Editor.getBookmarkNode: use HTMLArea.DOM.BookMark.getEndPoint instead HTMLArea.Editor.moveToBookmark: use HTMLArea.DOM.BookMark.moveTo instead</p>
<p>HTMLArea.htmlDecode: use HTMLArea.util.htmlDecode instead HTMLArea.htmlEncode: use HTMLArea.util.htmlEncode instead</p>
<h5 id="impact-44">Impact</h5>
<p>3rd party extensions adding plugins to the RTE and using the removed methods will fail.</p>
<h5 id="affected-installations-44">Affected Installations</h5>
<p>A TYPO3 instance is affected if a 3rd party extension of the RTE refers to the removed methods.</p>
<h5 id="migration-44">Migration</h5>
<p>The affected 3rd party extensions must be modified to use the replacement methods.</p>
<h4 id="breaking-62339---move-extperm-into-extbeuser-and-remove-extperm">Breaking: #62339 - Move EXT:perm into EXT:beuser and remove EXT:perm</h4>
<h5 id="description-45">Description</h5>
<p>The extension EXT:perm is removed from core, the perms module is moved into EXT:beuser. The BE module moved from “Web Access” to “System Access”</p>
<h5 id="impact-45">Impact</h5>
<p>Extensions that use EXT:perm or maybe depends on it will cause problems</p>
<h5 id="affected-installations-45">Affected Installations</h5>
<p>A TYPO3 instance is affected if a 3rd party extension uses parts the removed extension.</p>
<h5 id="migration-45">Migration</h5>
<p>The logic is moved into EXT:beuser. No special migration is necessary.</p>
<h4 id="breaking-62416---removal-of-deprecated-code-in-sysext-core">Breaking: #62416 - Removal of deprecated code in sysext core</h4>
<h5 id="description-46">Description</h5>
<p>DataHandler</p>
<hr />
<p>DataHandler::clear_cache() has been removed. Use -&gt;clear_cacheCmd() instead. Alternatively you can call -&gt;registerPageCacheClearing() from a hook to not immediately clear the cache but register clearing after DataHandler operation finishes.</p>
<p>DataHandler::internal_clearPageCache() has been removed, please use the cache manager directly.</p>
<p>The hook ['t3lib/class.t3lib_tcemain.php']['clearAllCache_additionalTables'] has been removed, use the caching framework with database backend instead.</p>
<p>DatabaseConnection</p>
<hr />
<p>All connection parameters (host, username, password, db) for methods sql_connect(), sql_select_db() and connectDB() have been removed.</p>
<p>PackageManager</p>
<hr />
<p>The globally defined REQUIRED_EXTENSIONS constant has been removed.</p>
<p>ExtensionManagementUtility</p>
<hr />
<p>Parameter classPath of insertModuleFunction() is now unused. Leverage autoloading instead.</p>
<p>Removed PHP classes</p>
<hr />
<ul>
<li>TYPO3\CMS\Core\Resource\Service\IndexerService has been removed without replacement. Indexing is done internally.</li>
<li>TYPO3\CMS\Core\Compatibility\GlobalObjectDeprecationDecorator has been removed without replacement.</li>
</ul>
<p><code> Do not use $GLOBALS['typo3CacheManager'] and $GLOBALS['typo3CacheFactory'] anymore, use GeneralUtility::makeInstance() instead.</code></p>
<p>Removed PHP class members</p>
<hr />
<ul>
<li>AbstractUserAuthentication::$cookieId has been removed. Use isCookieSet() instead.</li>
</ul>
<p>Removed PHP methods</p>
<hr />
<ul>
<li>GeneralUtility::array_merge_recursive_overrule() has been removed. Use ArrayUtility::mergeRecursiveWithOverrule() instead.</li>
</ul>
<p><code> WARNING: The new method changed its signature and does not return the first parameter anymore.</code></p>
<ul>
<li>GeneralUtility::htmlspecialchars_decode() has been removed in favor of the native PHP htmlspecialchars_decode() function.</li>
<li>CategoryRegistry::get() has been removed. Use isRegistered() instead.</li>
<li>CategoryRegistry::applyTca() has been removed. The functionality is obsolete.</li>
<li>DataHandler::clear_cache() has been removed. Use -&gt;clear_cacheCmd instead. Alternatively you can</li>
</ul>
<p><code> call -&gt;registerPageCacheClearing() from a hook to not immediately clear the cache but register clearing after DataHandler operation finishes.</code></p>
<ul>
<li>DataHandler::internal_clearPageCache() has been removed, use the cache manager directly.</li>
<li>FileRepository::findByUid() has been removed without replacement.</li>
<li>FileRepository::addToIndex() has been removed without replacement. Indexing is done transparently.</li>
<li>FileRepository::getFileIndexRecordsForFolder() has been removed. Use FileIndexRepository::findByFolder() instead.</li>
<li>FileRepository::getFileIndexRecord() has been removed. Use FileIndexRepository::findOneByFileObject() instead.</li>
<li>FileRepository::findBySha1Hash() has been removed. Use FileIndexRepository::findByContentHash() instead.</li>
<li>FileRepository::update() has been removed. Use FileIndexRepository::update() instead.</li>
<li>ResourceStorage::getFolderByIdentifier() is replaced by getFolder().</li>
<li>ResourceStorage::getFileByIdentifier() is replaced by getFileInfoByIdentifier().</li>
<li>ResourceStorage::getFileList() is replaced by getFilesInFolder().</li>
<li>ResourceStorage::getFolderList() has been removed. Use getFoldersInFolder() instead.</li>
<li>ResourceStorage::fetchFolderListFromDriver() has been removed. Use getFoldersInFolder() instead.</li>
<li>BasicFileUtility::getTotalFileInfo() has been removed. Use ResourceStorage instead via $GLOBALS['BE_USER']-&gt;getFileStorages()</li>
<li>BasicFileUtility::checkFileNameLen() has been removed. Use ResourceStorage instead via $GLOBALS['BE_USER']-&gt;getFileStorages()</li>
<li>BasicFileUtility::isPathValid() has been removed in favor of GeneralUtility::validPathStr().</li>
<li>BasicFileUtility::blindPath() has been removed without replacement.</li>
<li>BasicFileUtility::findTempFolder() has been removed without replacement.</li>
<li>BasicFileUtility::rmDoubleSlash() has been removed without replacement.</li>
<li>BasicFileUtility::cleanDirectoryName() has been removed. Use PathUtility::getCanonicalPath() instead.</li>
<li>ExtendedFileUtility::init_actionPerms() is replaced with setActionPermissions().</li>
<li>ExtendedFileUtility::printLogErrorMessages() is replaced with pushErrorMessagesToFlashMessageQueue().</li>
<li>ExtendedFileUtility::findRecycler() has been removed. Use ResourceStorage instead.</li>
<li>RteHtmlParser::rteImageStorageDir() and SelectImage::getRTEImageStorageDir() are removed.</li>
</ul>
<p><code> Use $fileFactory-&gt;getFolderObjectFromCombinedIdentifier($GLOBALS['TYPO3_CONF_VARS']['BE']['RTE_imageStorageDir']); instead.</code></p>
<ul>
<li>Locales::getTerLocales() has been removed without replacement.</li>
<li>Locales::getTerLocaleDependencies() has been removed without replacement.</li>
<li>ExtensionManagementUtility::getRequiredExtensionListArray() has been removed without replacement.</li>
<li>ExtensionManagementUtility::writeNewExtensionList() has been removed without replacement.</li>
<li>PhpOptionsUtility::isSqlSafeModeEnabled() has been removed without replacement.</li>
<li>ClassLoader::getAliasForClassName() is replaced with getAliasesForClassName().</li>
</ul>
<h5 id="impact-46">Impact</h5>
<p>A call to any of the aforementioned methods by third party code will result in a fatal PHP error.</p>
<h5 id="affected-installations-46">Affected Installations</h5>
<p>Any installation which contains third party code still using these deprecated methods.</p>
<h5 id="migration-46">Migration</h5>
<p>Replace the calls with the suggestions outlined above.</p>
<h4 id="breaking-62595---remove-su-change-to-mode">Breaking: #62595 - Remove SU change-to mode</h4>
<h5 id="description-47">Description</h5>
<p>The permanent user switch has been removed from backend user list for a better UX.</p>
<h5 id="impact-47">Impact</h5>
<p>The parameter “emulate” in the view helper “SwitchUser” is dropped. Using the argument causes an error &quot;Argument “emulate” was not registered&quot;.</p>
<h5 id="affected-installations-47">Affected Installations</h5>
<p>Any installation using an extension that uses the view helper “SwitchUser” with “emulate” argument.</p>
<h5 id="migration-47">Migration</h5>
<p>Drop the “emulate” argument in the view helper call.</p>
<h4 id="breaking-62670---removal-of-deprecated-code-in-multiple-sysexts">Breaking: #62670 - Removal of deprecated code in multiple sysexts</h4>
<h5 id="description-48">Description</h5>
<p>DBAL DatabaseConnection</p>
<hr />
<p>All connection parameters (host, username, password, db) for methods sql_connect() and sql_select_db() are removed.</p>
<p>CSS Styled Content</p>
<hr />
<p>The old frontend plugin file pi1/class.tx_cssstyledcontent_pi1.php is removed. Refer to Classes/Controller/CssStyledContentController.php instead.</p>
<p>Install Tool</p>
<hr />
<p>The check for PHP's magic_quotes_gpc settings is removed, as the feature is disabled since PHP 5.4.</p>
<p>Removed files</p>
<hr />
<ul>
<li>lang/lang.php is removed. You don't need to include this file anymore, just use \TYPO3\CMS\Lang\LanguageService directly.</li>
<li>rtehtmlarea/htmlarea/plugins/DynamicCSS/dynamiccss.css is removed. The file was not used.</li>
</ul>
<p>Removed PHP classes</p>
<hr />
<ul>
<li>TYPO3\CMS\Scheduler\Task\FileIndexingTask is removed without replacement.</li>
</ul>
<p>Removed PHP class members</p>
<hr />
<ul>
<li>TypoScriptFrontendController::$absRefPrefix_force is removed without replacement.</li>
</ul>
<p>Removed PHP methods</p>
<hr />
<ul>
<li>LanguageService::JScharCode is removed, use GeneralUtility::quoteJSvalue instead.</li>
<li>ContentObjectRenderer::joinTSarrays is removed without replacement.</li>
<li>TypoScriptFrontendController::tidyHTML is removed without replacement. You may use the tidy extension from TER.</li>
<li>ElementBrowser::isWebFolder is removed without replacement.</li>
<li>ElementBrowser::checkFolder is removed without replacement.</li>
<li>AbstractDatabaseRecordList::getTreeObject is removed without replacement.</li>
<li>FileList::dirData is removed without replacement.</li>
<li>FilesContentObject::stdWrapValue is removed, use ContentObjectRenderer::stdWrapValue instead.</li>
<li>ImportExportController::userTempFolder is removed, use getDefaultImportExportFolder instead.</li>
<li>ImportExportController::userSaveFolder is removed, use getDefaultImportExportFolder instead.</li>
<li>CrawlerHook::loadIndexerClass is removed without replacement.</li>
<li>DatabaseIntegrityView::func_filesearch is removed without replacement.</li>
<li>DatabaseIntegrityView::findFile is removed without replacement.</li>
<li>RteHtmlAreaBase::buildStyleSheet is removed without replacement.</li>
<li>RteHtmlAreaBase::loremIpsumInsert is removed without replacement.</li>
<li>StagesService::checkCustomStagingForWS is removed without replacement.</li>
</ul>
<p>Removed JS functions</p>
<hr />
<ul>
<li>tx_rsaauth_encrypt is removed without replacement.</li>
<li>tx_rsaauth_feencrypt is removed without replacement.</li>
</ul>
<h5 id="impact-48">Impact</h5>
<p>A call to any of the aforementioned methods by third party code will result in a fatal PHP error.</p>
<h5 id="affected-installations-48">Affected Installations</h5>
<p>Any installation which contains third party code still using these deprecated methods.</p>
<h5 id="migration-48">Migration</h5>
<p>Replace the calls with the suggestions outlined above.</p>
<h4 id="breaking-62673---deprecated-extbase-code-is-removed">Breaking: #62673 - Deprecated extbase code is removed</h4>
<h5 id="description-49">Description</h5>
<p>Generic\Qom\Statement</p>
<hr />
<p>You may no longer use bound variables without using a prepared statement.</p>
<p>ActionController</p>
<hr />
<p>Support for old view configuration options templateRootPath, layoutRootPath and partialRootPath is dropped. Use the new options with fallback mechanism.</p>
<p>Removed PHP classes</p>
<hr />
<ul>
<li>QueryObjectModelConstantsInterface</li>
<li>QueryObjectModelFactoryInterface</li>
</ul>
<p>Removed PHP class members</p>
<hr />
<ul>
<li>ActionController::$viewObjectNamePattern is removed without replacement</li>
<li>Repository::$backend is removed, use persistence manager instead</li>
</ul>
<p>Removed PHP methods</p>
<hr />
<ul>
<li>ObjectManager::create() is removed, use ObjectManager::get() instead</li>
<li>ObjectManagerInterface::create() is removed</li>
<li>Persistence\Generic\Backend::replaceObject() is removed without replacement</li>
<li>QuerySettingsInterface::setReturnRawQueryResult() is removed without replacement</li>
<li>QuerySettingsInterface::getReturnRawQueryResult() is removed, use the parameter on $query-&gt;execute() directly</li>
<li>Typo3QuerySettings::setSysLanguageUid() is removed, use setLanguageUid() instead</li>
<li>Typo3QuerySettings::getSysLanguageUid() is removed, use getLanguageUid() instead</li>
</ul>
<h5 id="impact-49">Impact</h5>
<p>A call to any of the aforementioned methods by third party code will result in a fatal PHP error.</p>
<h5 id="affected-installations-49">Affected Installations</h5>
<p>Any installation which contains third party code still using these deprecated methods.</p>
<h5 id="migration-49">Migration</h5>
<p>Replace the calls with the suggestions outlined above.</p>
<h4 id="breaking-62291---rte-wizard-classes-renamed">Breaking: #62291 - RTE wizard classes renamed</h4>
<h5 id="description-50">Description</h5>
<p>The following two RTE classes were renamed:</p>
<p>TYPO3\CMS\Rtehtmlarea\ContentParser renamed to TYPO3\CMS\Rtehtmlarea\Controller\ParseHtmlController TYPO3\CMS\Rtehtmlarea\User renamed to TYPO3\CMS\Rtehtmlarea\Controller\UserElementsController</p>
<h5 id="impact-50">Impact</h5>
<p>3rd party extensions referring to an old class name will fail.</p>
<h5 id="affected-installations-50">Affected Installations</h5>
<p>A TYPO3 instance is affected if a 3rd party extension refers to a renamed class by its old name.</p>
<h5 id="migration-50">Migration</h5>
<p>The affected 3rd party extensions must be modified to use the new names of these classes.</p>
<h4 id="breaking-62733---rte-javascript-files-moved">Breaking: #62733 - RTE Javascript Files Moved</h4>
<h5 id="description-51">Description</h5>
<p>Javascript files of the rtehtmlarea extension were moved from EXT:rtehtmlarea/htmlarea/ to EXT:rtehtmlarea/Resources/Public/JavaScript/</p>
<h5 id="impact-51">Impact</h5>
<p>Javascript or file not found errors.</p>
<h5 id="affected-installations-51">Affected Installations</h5>
<p>An installation is affected if a 3rd party extension loads any JavaScript file from EXT:rtehtmlarea/htmlarea/</p>
<h5 id="migration-51">Migration</h5>
<p>Any affected 3rd party extension must be modified to load any JavaScript file from EXT:rtehtmlarea/Resources/Public/JavaScript/ instead.</p>
<h4 id="breaking-62793---typoscript-config.notification_-removed">Breaking: #62793 - TypoScript config.notification_* removed</h4>
<h5 id="description-52">Description</h5>
<p>The following TypoScript options were removed:</p>
<p>config.notification_email_charset config.notification_email_encoding config.notification_email_urlmode</p>
<h5 id="impact-52">Impact</h5>
<p>Using those options have no effect anymore.</p>
<h5 id="affected-installations-52">Affected Installations</h5>
<p>Instances that set these options in FE TypoScript.</p>
<h5 id="migration-52">Migration</h5>
<p>Those options can be safely removed. They were used with old mail handling and are substituted with a different engine that rendered those useless.</p>
<h4 id="breaking-62804---rte-javascript-method-htmlarea.editorgetnodebyposition-was-moved">Breaking: #62804 - RTE JavaScript method HTMLArea.Editor::getNodeByPosition was moved</h4>
<h5 id="description-53">Description</h5>
<p>RTE JavaScript method getNodeByPosition() was moved from HTMLArea.Editor to HTMLArea.DOM.Node where it belongs.</p>
<h5 id="impact-53">Impact</h5>
<p>3rd party extensions referring to HTMLArea.Editor::getNodeByPosition() will fail.</p>
<h5 id="affected-installations-53">Affected Installations</h5>
<p>A TYPO3 instance is affected if a 3rd party extension refers to the method HTMLArea.Editor::getNodeByPosition().</p>
<h5 id="migration-53">Migration</h5>
<p>The affected 3rd party extensions must be modified to use method HTMLArea.DOM.Node::getNodeByPosition() instead.</p>
<h4 id="breaking-62819---remove-php-localization-support">Breaking: #62819 - Remove php Localization Support</h4>
<h5 id="description-54">Description</h5>
<p>The support for php files in localization, e.g. locallang.php files was deprecated with TYPO3 CMS 4.6. All translations are done with XLF in the core, XML files are still supported.</p>
<p>The parsing of PHP localization files is now disabled by default, the parsing class is now deprecated.</p>
<h5 id="impact-54">Impact</h5>
<p>Extensions using locallang.php files for translation will not show labels anymore.</p>
<h5 id="affected-installations-54">Affected Installations</h5>
<p>All installations with third-party extensions using locallang.php translation files.</p>
<h5 id="migration-54">Migration</h5>
<p>Third-party extensions should migrate their translation files to the XLIFF format (XLF file extension). The extension development extension (Extension Key “extdeveval”) can be used to transform locallang.php files to according XLF files.</p>
<p>Until this is done, it is possible to enable this option again by adding the following lines to typo3conf/AdditionalConfiguration.php:</p>
<p>.. code-block:: php</p>
<p><code>   $GLOBALS['TYPO3_CONF_VARS']['SYS']['lang']['format']['priority'] = 'xlf,xml,php';</code><br />
<code>   $GLOBALS['TYPO3_CONF_VARS']['SYS']['lang']['format']['parser']['php'] = 'TYPO3\\CMS\\Core\\Localization\\Parser\\LocallangArrayParser';</code></p>
<h4 id="breaking-62833---removed-dividers2tabs-functionality">Breaking: #62833 - Removed dividers2tabs functionality</h4>
<h5 id="description-55">Description</h5>
<p>The “dividers2tabs” option in the ctrl section of TCA allows to show tabs in FormEngine while editing records, instead of showing all fields in one long column. This behaviour is the default since some TYPO3 versions.</p>
<p>This option has no effect anymore, as “dividers2tabs” is removed for TYPO3 CMS Core. The option can also be safely removed from any extension that adds TCA data.</p>
<h5 id="impact-55">Impact</h5>
<p>A third-party extension that overrides the dividers2tabs option for an existing table or that adds a TCA table with this option disabled will have a record editing with tabs from now on.</p>
<h4 id="breaking-62859---removal-of-doclink.action-view-helper">Breaking: #62859 - Removal of doc:link.action view helper</h4>
<h5 id="description-56">Description</h5>
<p>The view helper \TYPO3\CMS\Documentation\ViewHelpers\Link\Action has been removed.</p>
<h5 id="impact-56">Impact</h5>
<p>Extensions that rely on existence of \TYPO3\CMS\Documentation\ViewHelpers\Link\Action won't work.</p>
<h5 id="affected-installations-55">Affected Installations</h5>
<p>A TYPO3 instance is affected if a 3rd party extension uses the removed view helper.</p>
<h5 id="migration-55">Migration</h5>
<p>Either use f:be.buttons.icon or any of f:uri.* view helpers.</p>
<h4 id="breaking-62888---remove-config.uniquelinkvars">Breaking: #62888 - Remove config.uniqueLinkVars</h4>
<h5 id="migration-56">Migration</h5>
<p>Remove the setting config.uniqueLinkVars from the TypoScript.</p>
<h4 id="breaking-62914---early-check-for-php-5.5-in-install-tool">Breaking: #62914 - Early check for PHP 5.5 in Install Tool</h4>
<h5 id="description-57">Description</h5>
<p>PHP 5.5 or above is a requirement for TYPO3 CMS7. As code is using specific PHP 5.5 features, an early check is required in Install Tool.</p>
<h5 id="impact-57">Impact</h5>
<p>Install Tool will throw an exception if PHP 5.5 or above is not detected.</p>
<h5 id="affected-installations-56">Affected Installations</h5>
<p>Any installation without at least PHP 5.5.0.</p>
<h5 id="migration-57">Migration</h5>
<p>Upgrade to PHP 5.5 or above.</p>
<h4 id="breaking-62987---remove-csh-glossary">Breaking: #62987 - Remove CSH Glossary</h4>
<h5 id="description-58">Description</h5>
<p>Early TYPO3 versions featured a glossary functionality, served by an extension, with built in switches in the core. Those switches are now removed.</p>
<h5 id="impact-58">Impact</h5>
<p>The functionality is no longer available.</p>
<h4 id="breaking-63056---remove-template-selection-hack">Breaking: #63056 - Remove Template Selection Hack</h4>
<h5 id="description-59">Description</h5>
<p>There has been an ancient hack for the former “freesite” extension, which enabled selection of the template via GET variable. This technique is outdated and has been removed.</p>
<h5 id="impact-59">Impact</h5>
<p>Any extension using this hack will not be able to select the template this way anymore.</p>
<h5 id="affected-installations-57">Affected Installations</h5>
<p>Installations with third party extensions using the hack.</p>
<h5 id="migration-58">Migration</h5>
<p>No migration path intended.</p>
<h4 id="breaking-63069---removed-compatibility-layer-for-submodules-of-func-and-info-modules">Breaking: #63069 - Removed compatibility layer for submodules of func and info modules</h4>
<h5 id="description-60">Description</h5>
<p>The web_info and web_func modules use the module dispatcher now and do not have their own index scripts. Therefore any submodule for those modules need to adjust links accordingly.</p>
<h5 id="migration-59">Migration</h5>
<p>Use BackendUtility::getModuleUrl() instead to get the correct target for your links.</p>
<h4 id="breaking-63110---alt_doc_nodoc.php-removed">Breaking: #63110 - alt_doc_nodoc.php removed</h4>
<h5 id="description-61">Description</h5>
<p>Script entry point typo3/alt_doc_nodoc.php and NoDocumentsOpenController class are removed without substitution.</p>
<h5 id="impact-60">Impact</h5>
<p>A script pointing to this file resource will trigger a 404 server response and a script instantiating the class will cause a fatal error.</p>
<h5 id="affected-installations-58">Affected Installations</h5>
<p>An extension needs to be adapted in the unlikely case that it uses this code.</p>
<h5 id="migration-60">Migration</h5>
<p>Redirecting to typo3/dummy.php instead.</p>
<h2 id="deprecation">Deprecation</h2>
<h4 id="deprecation-60574---client-related-conditions">Deprecation: #60574 - Client Related Conditions</h4>
<h5 id="description-62">Description</h5>
<p>Conditions that depend on client details are unlovely for a number of reasons:</p>
<ul>
<li>Per condition or permutation of conditions that matches, the frontend</li>
</ul>
<p><code> creates a different cache entry. This can lead to a very high number</code><br />
<code> of cache entrys per page</code></p>
<ul>
<li>Conditions based on browser or clients on server side are bad practice.</li>
<li>The device information in the core is outdated (for example it is possible to match “AMIGA”)</li>
<li>Setups like reverse proxies give additional headaches with these types of conditions</li>
<li>All client related condition types are deprecated with this patch.</li>
</ul>
<h5 id="impact-61">Impact</h5>
<p>Usage of client related TypoScript conditions will result in a deprecation log message. Client related conditions are browser, version, system and useragent.</p>
<h4 id="deprecation-61513---use-native-htmlspecialchars-in-extendedtemplateservice">Deprecation: #61513 - Use native htmlspecialchars in ExtendedTemplateService</h4>
<h5 id="description-63">Description</h5>
<p>In previous versions the ExtendedTemplateService used a conditional wrapper method to apply htmlspecialchars() for rendering TypoScript search labels, keys and comments in the backend. This option was never used, so htmlspecialchars() was always activated rendering the option and method redundant and not necessary. Calls to the method are removed. The ExtendedTemplateServer method and property are now marked as deprecated for removal with CMS 8.</p>
<h5 id="impact-62">Impact</h5>
<p>Custom extensions using the flag ExtendedTemplateService-&gt;ext_noSpecialCharsOnLabels or a custom implementation of ExtendedTemplateService might get different results when using this switch within the class.</p>
<h4 id="deprecation-61958---tca-rendering-methods">Deprecation: #61958 - TCA rendering methods</h4>
<h5 id="description-64">Description</h5>
<p>The following methods of the class \TYPO3\CMS\Backend\Form\FormEngine have been marked as deprecated:</p>
<p><code>* getSingleField_typeInput</code><br />
<code>* getSingleField_typeText</code><br />
<code>* getSingleField_typeCheck</code><br />
<code>* getSingleField_typeRadio</code><br />
<code>* getSingleField_typeSelect</code><br />
<code>* getSingleField_typeGroup</code><br />
<code>* getSingleField_typeNone</code><br />
<code>* getSingleField_typeFlex</code><br />
<code>* getSingleField_typeUnknown</code><br />
<code>* getSingleField_typeUser</code></p>
<p>Each method is moved into a designated class inside \TYPO3\CMS\Backend\Form\Element to clean up the FormEngine class.</p>
<h5 id="impact-63">Impact</h5>
<p>If a 3rd party extension calls the mentioned methods directly, a deprecation log entry will be created.</p>
<h5 id="affected-installations-59">Affected Installations</h5>
<p>All installations which call the mentioned methods.</p>
<h5 id="migration-61">Migration</h5>
<p>Every call of a 3rd party extension to the mentioned method must be changed to use the new classes.</p>
<h4 id="deprecation-62363---tsfe-jseventfunccalls-disabled">Deprecation: #62363 - TSFE-&gt;JSeventFuncCalls disabled</h4>
<h5 id="description-65">Description</h5>
<p>TYPO3 CMS provides a way to register direct JS calls to be added to the body tag of the frontend output to allow several functions to register for e.g. “onload”. Nowadays this is done via JS frameworks directly, or via JS variables.</p>
<p>The functionality has been marked as deprecated.</p>
<h5 id="impact-64">Impact</h5>
<p>The core does not use this functionality anymore. Installations with menus using “GMENU_LAYERS”, which has been removed from the core a while ago, but still use it via third-party extensions, might not work anymore as expected.</p>
<h5 id="affected-installations-60">Affected Installations</h5>
<p>All installations which use the $TSFE-&gt;JSeventFuncCalls option, e.g. like GMENU_LAYERS.</p>
<h5 id="migration-62">Migration</h5>
<p>Every call of a 3rd party extension to the mentioned method must be changed to use their own JS function registration.</p>
<h4 id="deprecation-62667-additional-wrapborder-table-in-formengine">Deprecation: #62667 Additional “WrapBorder” Table In FormEngine</h4>
<h5 id="description-66">Description</h5>
<p>In previous versions the FormEngine always wrapped fields around an additional HTML table element. This was done in a separate method called wrapBorder() utilizing the SECTION_WRAP subpart of the FormEngine template. As styling is now done completely via LESS/CSS, all calls to the method have been removed. The wrapBorder method and sectionWrap property of FormEngine are now marked as deprecated for removal with CMS 8.</p>
<h5 id="impact-65">Impact</h5>
<p>Custom extensions using the wrapBorder() method will not get the additional table wrap.</p>
<h4 id="deprecation-62794---mail-methods-in-generalutility">Deprecation: #62794 - Mail methods in GeneralUtility</h4>
<h5 id="description-67">Description</h5>
<p>The following methods of the class \TYPO3\CMS\Core\Utility\GeneralUtility have been marked as deprecated:</p>
<p><code>* quoted_printable()</code><br />
<code>* encodeHeader()</code><br />
<code>* substUrlsInPlainText()</code></p>
<h5 id="impact-66">Impact</h5>
<p>The methods were used together with the old mail API and are now obsolete. Deprecation warnings will be triggered if used.</p>
<h5 id="affected-installations-61">Affected Installations</h5>
<p>Installations that still use those methods will trigger deprecations warnings.</p>
<h5 id="migration-63">Migration</h5>
<p>Code that still uses these methods should be refactored to the mail API using TYPO3\CMS\Core\Mail\Mailer class.</p>
<h4 id="deprecation-62795---documenttemplate-endpagejs">Deprecation: #62795 - DocumentTemplate-&gt;endPageJS()</h4>
<h5 id="description-68">Description</h5>
<p>Method TYPO3\CMS\Backend\Template\DocumentTemplate::endPageJS() and the according property endJS have been marked as deprecated.</p>
<h5 id="impact-67">Impact</h5>
<p>None, as it isn't in use anymore since TYPO3 CMS 4.5 and was responsible for notifying the browser that the session is still active.</p>
<h4 id="deprecation-62800---workspaces-toolbaritem-via-extdirect">Deprecation: #62800 - Workspaces ToolbarItem via ExtDirect</h4>
<h5 id="description-69">Description</h5>
<p>The PHP functionality for switching a workspace was done with the ExtDirect call TYPO3.Ajax.ExtDirect.ToolbarMenu until now. This has been replaced by a simple AJAX JSON call, based on jQuery and the refactored ToolbarItem Menu for the workspaces module.</p>
<h5 id="impact-68">Impact</h5>
<p>The core does not use this functionality anymore, and also removed the ExtDirect registration for this class.</p>
<h5 id="affected-installations-62">Affected Installations</h5>
<p>All installations which directly used the ExtDirect TYPO3.Ajax.ExtDirect.ToolbarMenu to fetch the data.</p>
<h5 id="migration-64">Migration</h5>
<p>Use the new AjaxHandler Workspaces::setWorkspace() directly instead.</p>
<h4 id="deprecation-62854---abstractplugin-pi_list_searchbox">Deprecation: #62854 - Abstractplugin-&gt;pi_list_searchBox()</h4>
<h5 id="description-70">Description</h5>
<p>Method pi_list_searchBox() of AbstractPlugin (aka pibase) was used with very old search solutions and is hopelessly outdated. It is now discouraged to be used and will be removed with next major version.</p>
<h5 id="impact-69">Impact</h5>
<p>Extensions still using pi_list_searchBox() will throw a deprecation warning.</p>
<h4 id="deprecation-62864---backendutility-helptexticon-deprecated">Deprecation: #62864 - BackendUtility-&gt;helpTextIcon deprecated</h4>
<h5 id="description-71">Description</h5>
<p>The function helpTextIcon() in BackendUtility has been marked as deprecated.</p>
<h5 id="impact-70">Impact</h5>
<p>The core does not use this functionality anymore.</p>
<h5 id="affected-installations-63">Affected Installations</h5>
<p>All installations which use the function helpTextIcon().</p>
<h5 id="migration-65">Migration</h5>
<p>Use BackendUtility::cshItem() instead.</p>
<h4 id="deprecation-62893---flashmessage-javascript-object-typo3.flashmessages-was-moved">Deprecation: #62893 - Flashmessage JavaScript object TYPO3.Flashmessages was moved</h4>
<h5 id="description-72">Description</h5>
<p>Flashmessages JavaScript object has been moved from TYPO3.Flashmessages to top.TYPO3.Flashmessages. The severity constant values has been changed to correspond to the same values (-2,-1,0,1,2) of the constants as in PHP. The constants TYPO3.Severity.information have been marked as deprecated. 3rd party extensions referring to TYPO3.Severity.information will work until CMS 9. A compatibility file was introduced to map TYPO3.Flashmessages to top.TYPO3.Flashmessages, will also work until CMS 9.</p>
<h5 id="impact-71">Impact</h5>
<p>If a 3rd party extension calls the mentioned methods directly, a deprecation log will be written to the browser console.</p>
<h5 id="affected-installations-64">Affected Installations</h5>
<p>A TYPO3 instance is affected if a 3rd party extension refers to the method TYPO3.Flashmessages.display() or uses TYPO3.Severity.information constants.</p>
<h5 id="migration-66">Migration</h5>
<p>The affected 3rd party extensions must be modified to use top.TYPO3.Flashmessages instead of TYPO3.Flashmessages.</p>
<p>Example:</p>
<p><code>   .. code-block:: javascript</code></p>
<p><code>   // Old and deprecated:</code><br />
<code>   TYPO3.Flashmessages.display(TYPO3.Severity.notice)</code></p>
<p><code>   // New and the only correct way:</code><br />
<code>   top.TYPO3.Flashmessages.display(top.TYPO3.Severity.notice)</code></p>
<p><code>   ..</code></p>
<p>The TYPO3.Severity object has been moved to top.TYPO3.Severity. Use top.TYPO3.Severity.* instead.</p>
<h4 id="deprecation-62988---deprecate-unusednon-unified-documenttemplate-code">Deprecation: #62988 - Deprecate unused/non-unified DocumentTemplate code</h4>
<h5 id="description-73">Description</h5>
<p>Several functions within DocumentTemplate are not encouraged to be used anymore.</p>
<p>The hard-coded background image setting via $TBE_STYLES['background'] is removed and its usage is deprecated.</p>
<p>Additionally, the font-wrapping methods *rfw()* and *dfw()* are deprecated. The according CSS was removed from the core.</p>
<p>The method *collapseableSection()*, which was used solely by the reports module for ages in a buggy way, is also deprecated in favor of Bootstrap collapseables and localstorage.</p>
<h5 id="impact-72">Impact</h5>
<p>The core does not use this functionality anymore.</p>
<h5 id="affected-installations-65">Affected Installations</h5>
<p>All installations which use the setting $GLOBALS['TBE_STYLES']['background'] or any of the functions:</p>
<ul>
<li>dfw()</li>
<li>rfw()</li>
<li>collapseableSection()</li>
</ul>
<h5 id="migration-67">Migration</h5>
<ul>
<li>Use CSS directly instead of $GLOBALS['TBE_STYLES']['background']</li>
<li>Use the CSS class *text-muted* instead of the method dfw()</li>
<li>Use the CSS class *text-danger* instead of the method rfw()</li>
<li>Use HTML bootstrap classes, localStorage etc. instead of collapseableSection()</li>
</ul>
<h2 id="security">Security</h2>
<p><Category:ReleaseNotes/TYPO3_7.x> <a href="Category:TYPO3_7" title="wikilink">Category:TYPO3 7</a> <Category:2014></p>
